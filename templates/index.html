<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/style.css" />
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <link rel="icon" href="../static/img/favicon.ico" type="image/x-icon">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js" defer></script>
    <title>Diagramless Crossword Builder</title>
</head>
<body class="content-grid">
    <header>
        <a href='/' role="Home"><box-icon type='solid' name='home' animation='tada-hover'></box-icon></a>
        <h1 id="title">Diagramless Crossword Solver</h1>
        <a href='/info' role="Info"><box-icon name='info-circle' type='solid' animation='tada-hover' ></box-icon></a>
    </header>

    <hr/>
    <details class='flex' open>
      <summary><h2 class="flexSummary">Intro</h2></summary>
      <p>In crossword puzzles that are typical in daily newspapers and crossword
        puzzle books, the solver is presented with A) a grid (of black, numbered, and
        blank squares); and B) a set of numbered across and down clues. The solver's
        goal is to fill the answers to the clues in the grid.</p>
      <p>In a diagramless crossword puzzle, the solver is presented with (B)â€”a set of
        numbered across and down clues, and, optionally, the starting square number
        and type of puzzle symmetry, if any and must accomplish two things: 1) create
        the grid (by determining the relationships between the clue numbers (A); and 2)
        fill in the answers to the clues in the grid.</p>
        <p>D-G-Solver takes Part A of the diagramless puzzle; it determines the grid (the
          black, numbered, and blank squares by examining the across and down clues
          along with the optional information that may be provided.</p>
    </details>

    <hr/>
    <details class='flex'>
      <summary><h2 class='sectionHead'>Example</h2></summary>
      <div class="explaination">
        <div class="explainationItem">
          <h3 class="exampleHeader">Diagramless Grid</h3>
          <table class="solutionTable">
              <tr>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
              </tr>
              <tr>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
              </tr>
              <tr>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
              </tr>
              <tr>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
              </tr>
              <tr>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
                  <td class="sq"></td>
              </tr>
          </table>
        </div>
        <div class="explainationItem">
            <h3 class="exampleHeader">Puzzle Clues</h3>
            <table class="clueTable">
                <thead>
                    <th colspan="2">Across Clues</th>
                    <th colspan="2">Down Clues</th>
                </thead>
                <tbody>
                    <tr>
                        <td>1.</td>
                        <td>__ and Hobbes, abbv.</td>
                        <td>1.</td>
                        <td>_____ Diem </td>
                    </tr>
                    <tr>
                        <td>4.</td>
                        <td>Health, in Spain</td>
                        <td>2.</td>
                        <td style="text-wrap: balance;">Animals in 'Hyperbole and a Half'</td>
                    </tr>
                    <tr>
                        <td>6.</td>
                        <td>Part of a Palm</td>
                        <td>3.</td>
                        <td>A small satelite</td>
                    </tr>
                    <tr>
                        <td>7.</td>
                        <td>To make a choice</td>
                        <td>4.</td>
                        <td>Airport in CA</td>
                    </tr>
                    <tr>
                        <td>8.</td>
                        <td>NY Time Zone</td>
                        <td>5.</td>
                        <td>Guy Fieri's show, abbv.</td>
                    </tr>
                    <!-- <tr>
                      <td>1.</td>
                      <td>An Across Clue</td>
                      <td>1.</td>
                      <td>A Down Clue</td>
                  </tr>
                  <tr>
                      <td>4.</td>
                      <td>''   ''   ''</td>
                      <td>2.</td>
                      <td>''   ''   ''</td>
                  </tr>
                  <tr>
                      <td>6.</td>
                      <td>''   ''   ''</td>
                      <td>3.</td>
                      <td>''   ''   ''</td>
                  </tr>
                  <tr>
                      <td>7.</td>
                      <td>''   ''   ''</td>
                      <td>4.</td>
                      <td>''   ''   ''</td>
                  </tr>
                  <tr>
                      <td>8.</td>
                      <td>''   ''   ''</td>
                      <td>5.</td>
                      <td>''   ''   ''</td>
                  </tr>
                    <tr>
                      <td colspan='4'><hr/></td>
                    </tr>
                    <tr>
                      <td colspan="4">Across Clue Numbers are 1 4 6 7 8</td>
                    </tr>
                    <tr>
                      <td colspan="4">Down Clue Numbers are 1 2 3 4 5</td>
                    </tr>
                    <tr>
                      <td colspan='4'><b>Hint</b>: Symmetry is <span class="hint">Rotational</span></td>
                    </tr>
                    <tr>
                      <td colspan='4'><b>Hint</b>: Staring Square is <span class="hint">2</span></td>
                    </tr> -->
                </tbody>
            </table>
        </div>

        <div class="arrow">&#10140;</div>

        <div class="explainationItem">
            <h3 class="exampleHeader">User Input</h3>
            <form class="inputForm">
              <h3 class="formHeader required">Puzzle Details:</h3>
              <p>
                <label for="exampleRows" title="Number of rows in the puzzle" >Number of Rows:</label>
                <input type="number" id="exampleRows" min="3" value="5" disabled/>
              </p>
              <p>
                <label for="exampleColumns" title="Number of columns in the puzzle">Number of Columns: </label>
                <input type="number" id="exampleColumns" min="3" value="5" disabled/>
              </p>
              <p>
              </label>
                <label for="exampleAcrossClues" title="List across clues separated by a space">Across Clue Numbers: </label>
                <input type="text" id="exampleAcrossClues" contenteditable="true"  pattern="\d+ (?:\d+ )*\d+"  value="1 4 6 7 8" disabled/>
              </p>
              <p>
                <label for="exampleDownClues" title="List down clues separated by a space">Down Clues Numbers: </label>
                <input type="text" id="exampleDownClues" contenteditable="true"  pattern="\d+ (?:\d+ )*\d+" value="1 2 3 4 5" disabled/>
              </p>
              <h3 class="formHeader">Solving Options:</h3>
              <p>
                <label for="exampleSymmetry" title="Define the puzzle's symmetry type">Symmetry: </label>
                <select id="exampleSymmetry" disabled>
                    <option value="Rotational">Rotational</option>
                </select>
              </p>
              <p>
                <label for="exampleStarting" title="Please input the starting square. Leave blank (or put 0) to not enforce.">Starting Square: </label>
                <input type="number" id="exampleStarting" value="2" min="0" max="20" inputmode="numeric" size="5" disabled/>
              </p>
              <p>
                <label for="exampleFindAll" title="Continue the program after a solution has been found. CAUTION: may extend solve time significantly.">Find all solutions: </label>
                <input type="checkbox" id="exampleFindAll" disabled>
              </p>

            </form>
            <button type="button" style='margin: .3rem auto;' onclick="fillPuzzle('5','5','1 4 6 7 8', '1 2 3 4 5', 'Rotational', '2', false)">Click to input this example into the solver below</button>
        </div>

        <div class="arrow">&#10140;</div>

        <div class="explainationItem">
            <h3 class="exampleHeader">Solution</h3>
            <table class="solutionTable">
                <tr>
                    <td class="sq black"></td>
                    <td class="sq"><sup>1</sup></td>
                    <td class="sq"><sup>2</sup></td>
                    <td class="sq"><sup>3</sup></td>
                    <td class="sq black"></td>
                </tr>
                <tr>
                    <td class="sq"><sup>4</sup></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sqlack"><sup>5</sup></td>
                </tr>
                <tr>
                    <td class="sq"><sup>6</sup></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                </tr>
                <tr>
                    <td class="sq"><sup>7</sup></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                </tr>
                <tr>
                    <td class="sq black"></td>
                    <td class="sq"><sup>8</sup></td>
                    <td class="sq"></td>
                    <td class="sq"></td>
                    <td class="sq black"></td>
                </tr>
            </table>
        </div>
      </div>
    </details>

    <hr/>
    <details class='flex' open>
      <summary><h2 class='sectionHead'>User Input</h2></summary>
      <form action="/solve" method="post" id="puzzleForm" class="inputForm">
          <h3 class="formHeader required">Puzzle Details:</h3>
          <p>
            <label for="rowInput" title="Number of rows in the puzzle" >Number of Rows:</label>
            <input type="number" id="rowInput" name="rowInput" min="3" placeholder="5" size="2" required/>
          </p>
          <p>
            <label for="columnInput" title="Number of columns in the puzzle">Number of Columns: </label>
            <input type="number" id="columnInput" name="columnInput" min="3" placeholder="5" size="2"/>
          </p>
          <p>
          </label>
            <label for="acrossInput" title="List across clues separated by a space">Across Clue Numbers: </label>
            <input type="text" id="acrossInput" name="acrossInput" contenteditable="true" size='50' pattern="\d+ (?:\d+ )*\d+"  placeholder="1 4 6 7 8  // Ascending numbers separated by a space"required/>
          </p>
          <p>
            <label for="downInput" title="List down clues separated by a space">Down Clues Numbers: </label>
            <input type="text" id="downInput" name="downInput" contenteditable="true" size='50' pattern="\d+ (?:\d+ )*\d+" placeholder="1 2 3 4 5  // Ascending numbers separated by a space" required/>
          </p>
          <h3 class="formHeader">Solving Options:</h3>
          <p>
            <label for="symmetryInput" title="Define the puzzle's symmetry type">Symmetry: </label>
            <select id="symmetryInput" name="symmetryInput">
                <option value="None">None</option>
                <option value="Rotational">Rotational</option>
                <option value="Left Right">Left Right</option>
                <option value="Up Down">Up Down</option>
                <option value="Dual Rotational">Dual Rotational</option>
                <option value="Three Way">Three Way</option>
                <option value="Diagonal TLBR">Diagonal Top Left Start</option>
                <option value="Diagonal TRBL">Diagonal Top Right Start</option>
                <option value="Super">Super</option>
                <option value="Asymmetry">Asymmetry</option>
            </select>
          </p>
          <p>
            <label for="startingInput" title="Please input the starting square. Leave blank (or put 0) to not enforce.">Starting Square: </label>
            <input type="number" id="startingInput" name="startingInput" value="0" min="0" max="20" inputmode="numeric" size="5"/>
          </p>
          <p>
            <label for="findAllInput" title="Continue the program after a solution has been found. CAUTION: may extend solve time significantly.">Find all solutions: </label>
            <input type="checkbox" id="findAllInput" name="findAllInput" >
          </p>
          <p>
            <button type="submit" form="puzzleForm" class="submitButton">Solve</button>
          </p>
      </form>
    </details>

    <hr/>
    <details class='flex'>
      <summary><h2 class='sectionHead'>Choose from a library of diagramless puzzles</h2></summary>
      <div id="prefilledButtons"> 
          <button type="button" onclick="fillAndGo('5','5','1 4 5 8 9', '1 2 3 6 7', 'Asymmetry', '1', false)">5x5 - Asymmetry - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 10 11 12 13 14 15 17 18 20 21', '1 2 3 4 5 6 16 17 19', 'Left Right', '1', false)">9x9 - Left Right - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 6 7 8 9 13 14 16 17 18 19', '1 2 3 4 5 9 10 11 12 13 15', 'Left Right', '4', false)">9x9 - Left Right - 4</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 5 7 9 10 12 13 14 16 17 18 19 20', '1 2 3 5 6 7 8 9 11 15 16', 'Left Right', '4', false)">9x9 - Left Right - 4</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 10 11 12 13 17 18 19 20', '1 2 3 4 5 6 14 15 16', 'Left Right', '1', false)">9x9 - Left Right - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 6 8 11 13 14 15 17 18 20 21', '1 2 3 5 7 8 9 10 12 16 19', 'Up Down', '4', false)">9x9 - Up Down - 4</button>
          <button type="button" onclick="fillAndGo('9','9','1 5 8 9 10 11 12 13 16 20 21', '1 2 3 4 5 6 7 8 9 13 14 15 17 18 19', 'Up Down', '4', false)">9x9 - Up Down - 4</button>
          <button type="button" onclick="fillAndGo('9','9','1 8 9 10 11 15 17 20 21', '1 2 3 4 5 6 7 8 12 13 14 16 17 18 19', 'Rotational', '2', false)">9x9 - Rotational - 2</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 5 9 11 13 15 16 18 19 21 22', '1 2 3 6 7 8 9 10 12 14 17 20', 'Rotational', '3', false)">9x9 - Rotational - 3</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 10 11 13 14 16 17 20 21 22 23', '1 2 3 4 5 6 8 12 14 15 16 18 19', 'Rotational', '1', false)">9x9 - Rotational - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 5 6 9 11 14 15 17 18 20 21', '1 2 3 6 7 8 10 11 12 13 16 19', 'Dual Rotational', '3', false)">9x9 - Dual Rotational - 3</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 6 9 10 11 12 14 16 17 19 20', '1 2 3 4 5 6 7 8 13 15 16 18', 'Dual Rotational', '5', false)">9x9 - Dual Rotational - 5</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 9 10 11 12 14 15 21 22 23 24 25 26', '1 2 3 4 5 6 8 9 13 15 16 17 18 19 20', 'Three Way', '1', false)">9x9 - Three Way - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 10 11 12 13 14 15 21 22', '1 2 3 4 5 6 7 8 9 15 16 17 18 19 20', 'Three Way', '1', false)">9x9 - Three Way - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 12 13 15 17 18 19 20 23 24', '1 2 3 4 5 6 10 11 14 15 16 19 21 22', 'Diagonal TLBR', '1', false)">9x9 - Diagonal TLBR - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 5 9 10 11 12 13 15 16 20 22 23 24 25 26', '1 2 3 4 5 6 7 8 14 16 17 18 19 20 21', 'Diagonal TRBL', '1', false)">9x9 - Diagonal TRBL - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 5 6 12 13 14 15 16', '1 2 3 6 7 8 9 10 11', 'Super', '4', false)">9x9 - Super - 4</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 11 12 14 15 17 19 22 23 24 25', '1 2 3 4 5 6 10 11 13 15 16 17 18 20 21', 'Super', '1', false)">9x9 - Super - 1</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 5 6 7 10 11 12 13 15 16', '1 2 3 6 7 8 9 12 14', 'Asymmetry', '7', false)">9x9 - Asymmetry - 7</button>
          <button type="button" onclick="fillAndGo('9','9','1 4 7 8 9 10 11 15 16 17 18 19', '1 2 3 4 5 6 12 13 14', 'Asymmetry', '1', false)">9x9 - Asymmetry - 1</button>
          <button type="button" onclick="fillAndGo('9','10','1 5 7 9 10 11 12 14 15 16 17 18 19 20 21', '1 2 3 4 5 6 7 8 11 13', 'Left Right', '4', false)">9x10 - Left Right - 4</button>
          <button type="button" onclick="fillAndGo('10','10','1 4 6 9 10 11 15 17 18 19', '1 2 3 4 5 7 8 11 12 13 14 16', 'Rotational', '5', false)">10x10 - Rotational - 5</button>
          <button type="button" onclick="fillAndGo('13','13','1 4 5 8 9 11 14 15 16 17 19 20 21 22 24 25 26 27 29 30 31 32', '1 2 3 4 5 6 7 10 11 12 13 18 23 24 26 28', 'Asymmetry', '6', false)">13x13 - Asymmetry - 6</button>
          <button type="button" onclick="fillAndGo('15','15','1 6 10 13 14 15 16 17 18 19 21 23 25 26 30 31 32 34 37 38 39 40 41 42 43 44 47 51 52 54 58 59 61 62 63 64 65 66 67', '1 2 3 4 5 6 7 8 9 10 11 12 15 20 22 24 26 27 28 29 33 34 35 36 38 39 41 43 45 46 47 48 49 50 53 55 56 57 60', 'Rotational', '1', false)">15x15 - Rotational - 1</button>
      </div>
    </details>

    <div id="loader-container"></div>

    <script>
    const puzForm = document.getElementById('puzzleForm')
    const container = document.getElementById('loader-container');
    puzForm.addEventListener('submit', ()=> {
        const loaderElem = document.createElement('div')
        loaderElem.classList.add('loader')
        container.appendChild(loaderElem)
    })

    function fillAndGo(row, col, acc, down, sym, start, all) {
      fillPuzzle(row, col, acc, down, sym, start, all)
      document.getElementById('puzzleForm').submit();

    }
    function fillPuzzle(row, col, acc, down, sym, start, all) {
        document.getElementById('rowInput').value = row
        document.getElementById('columnInput').value = col
        document.getElementById('acrossInput').value = acc
        document.getElementById('downInput').value = down
        document.getElementById('symmetryInput').value = sym
        document.getElementById('startingInput').value = start
        document.getElementById('findAllInput').checked = all
    }
    </script>
</body>
</html>